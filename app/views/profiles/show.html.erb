<%= render "layouts/navbar" %>
<div class="profile-page-box">

  <div class="card profile-card">
    <h4 id="accordion" role="tablist" aria-multiselectable="true" class="card-header">Account Details</h4>
    <div class="card-block">
      <p class="card-text">
        <strong>Login Email:</strong>
        <%= current_user.email %>
      </p>
      <div class="profile-button-bar" style="display=flex">
        <%= link_to'Edit Details', edit_profile_path(user_profile_id), :class => 'btn btn-large btn-outline-primary app-button profile-button' %>
        <%= link_to 'Reset Password', edit_user_registration_path, :class => 'btn btn-large btn-outline-primary app-button profile-button' %>
        <%= link_to 'Deactivate Account', edit_user_registration_path, :class => 'btn btn-large btn-outline-danger app-button profile-button' %>
      </div>
    </div>
  </div>

  <div class="card profile-card">
    <h4 class="card-header">User Profile</h4>
    <div class="card-block">
      <p class="card-text">
        <strong>Username:</strong>
        <%= @profile.username %>
      </p>
      <p class="card-text">
        <strong>First Name:</strong>
        <%= @profile.first_name %>
      </p>
      <p class="card-text">
        <strong>Last Name:</strong>
        <%= @profile.last_name %>
      </p>
      <p class="card-text">
        <strong>Date of Birth:</strong>
        <%= @profile.date_of_birth.to_formatted_s(:long) %>
      </p>
      <% if @profile.gender.present? %>
        <p class="card-text">
          <strong>Gender:</strong>
          <%= @profile.gender %>
        </p>
        <% end %>
      <p class="card-text">
        <strong>Avatar:</strong>
        <div class="image-box" style="width: 100%">
          <%= image_tag @profile.avatar_src.to_s, style: 'width: 100%' %>
        </div>
      </p>

      <p class="card-text">
        <strong>Member Since:</strong>
        <%= current_user.created_at.to_formatted_s(:long) %>
      </p>
      <div class="profile-button-bar" style="display=flex">
        <%= link_to 'Edit Profile', edit_profile_path(user_profile_id), :class => 'btn btn-large btn-outline-primary app-button profile-button' %>
      </div>
    </div>
  </div>

  <% if is_user_captain? %>
    <%= render "captain_profiles/captain_profile_card" %>
  <% else %>
    <div class="card profile-card">
      <h4 class="card-header">Captain Profile</h4>
      <div class="card-block">
        <div class="profile-button-bar" style="display=flex">
          <%= link_to'Register as Captain', new_captain_profile_path, :class => 'btn btn-large btn-outline-success app-button profile-button' %>
        </div>
      </div>
    </div>
  <% end %>
</div>
